{
  "hash": "8a46830c714b11f6481c88eb08b2e430",
  "result": {
    "markdown": "---\ntitle: \"How to download a shared file from Google Drive in R\"\ndescription: \"A tutorial on how to download a shared file with 'anyone with the link' access rights from Google Drive in R.\"\nauthor: \n  - name: \"Rohit Farmer\"\n    orcid: \"0000-0003-4197-3047\"\n    email: \"rohitfarmer@hotmail.com\"\ndate: \"2022-10-14\"\ncategories: [How To]\nformat:\n  html:\n    code-fold: false\n    code-tools: true\n---\n\n\n# Introduction\n\nTo download a shared file with \"anyone with the link\" access rights from Google Drive in R, we can utilize the `googledrive` library from the `tidyverse` package. The method described here will utilize the file ID copied from the shared link. Typically `googledrive` package is used to work with a Google Drive of an authenticated user. However, since we are downloading a publicly shared file in this tutorial, we will work without user authentication. So, please follow the steps below.\n\n## Step 1: Copy the file ID from the share link.\n\nBelow is a share link from my Google Drive pointing to an R data frame.\n\n`https://drive.google.com/file/d/1vj607etanUVYzVFj_HXkznHTd0Ltv_Y4/view?usp=sharing`\n\nThis string `1vj607etanUVYzVFj_HXkznHTd0Ltv_Y4` is the file ID that we will use to download.\n\n## Step 2: Download the file using an authenticated connection.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nif(!require(googledrive)) install.packages(\"googledrive\")\nlibrary(googledrive)\n\ndrive_deauth()\ndrive_user()\npublic_file <-  drive_get(as_id(\"1vj607etanUVYzVFj_HXkznHTd0Ltv_Y4\"))\ndrive_download(public_file, overwrite = TRUE)\n```\n:::\n\n\n    File downloaded:\n    • hdstim-example-data.rds <id: 1vj607etanUVYzVFj_HXkznHTd0Ltv_Y4>\n    Saved locally as:\n    • hdstim-example-data.rds\n\nThe downloaded data frame.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(DT)\ndatatable(head(readRDS(\"hdstim-example-data.rds\")))\n```\n\n::: {.cell-output-display}\n```{=html}\n<div id=\"htmlwidget-74690091642b17fcb953\" style=\"width:100%;height:auto;\" class=\"datatables html-widget\"></div>\n<script type=\"application/json\" data-for=\"htmlwidget-74690091642b17fcb953\">{\"x\":{\"filter\":\"none\",\"vertical\":false,\"data\":[[\"1\",\"2\",\"3\",\"4\",\"5\",\"6\"],[79,70,69,69,79,70],[\"CHI-011_1_2_A\",\"CHI-011_1_1_A\",\"CHI-011_3_10_A\",\"CHI-011_3_10_A\",\"CHI-011_4_12_A\",\"CHI-011_2_6_A\"],[\"CHI\",\"CHI\",\"CHI\",\"CHI\",\"CHI\",\"CHI\"],[\"CHI-011\",\"CHI-011\",\"CHI-011\",\"CHI-011\",\"CHI-011\",\"CHI-011\"],[\"A\",\"A\",\"A\",\"A\",\"A\",\"A\"],[\"CD11c CD14 CD38\",\"CD11c CD14 CD38\",\"CD11c CD14 CD38\",\"CD11c CD14 CD38\",\"CD11c CD14 CD38\",\"CD11c CD14 CD38\"],[3.11045985421461,3.756624119687,2.91172235059654,2.91947229958479,2.86243065529249,3.55471947848649],[2.60148450148647,1.96048766745817,1.31056430339826,1.37664270971998,1.73146179281805,2.64596916043389],[0.0511450206524779,0,0,0,0,0.934134878137762],[0.715850432612773,1.51468188723134,0,0,0.669274125232149,2.00748803888894],[1.60813176535096,0.891298069339495,0.663531561388978,0.613685355494012,2.00600285681816,1.08640795105961],[0,0,0,0.0400610034810615,0,0.144533362423892],[0,0,0,0,0,1.02057586670544],[0,0,0,0,0,0],[1.89939855959742,1.89740531143859,1.56083906701903,0,2.6283066495904,1.31582184236677],[0.253135536308388,1.18031265876627,1.14908639988457,0,0.60203455150163,1.31237331717289],[0.00369789949684945,1.42019379932966,0,0,0.292015878088941,0.747486538463715],[2.77331385345949,2.93516801403964,2.5077399892511,0,3.45956660590574,2.94476517349483],[0.818611130642736,0.288584492803405,0.41501690804668,0,0.397712653480103,0.717444487617541],[0.0708149411973731,0.559664627192441,0.711616749962613,1.66051446554381,2.30527976834,0.696557609808028],[0.0901644255041056,0.00285677018361897,0.511134647868454,0.0942685197420495,0.311234857890093,0],[1.72235731390904,2.03777931774125,1.2700510284353,0,1.65866992641687,2.49664130943363],[3.40026665462511,4.03268409388972,3.0127038002041,2.81608677589958,2.77497552695861,4.03455731237916],[3.60282931883905,3.72725122856332,3.23658833838627,1.92574695650221,3.37962998140363,3.41817022500882],[0,0,0.849363667161433,0,0,0.627406323811345],[2.47972008953098,3.05787535046539,1.32520533309986,1.3148934902373,1.46992626340919,2.11677383380288],[2.66213996356576,3.15170556980942,2.39801188953494,3.69386784866135,3.43625900221516,3.16288601115814],[0.0950055541308778,0,0,0,0.939884898249729,0],[2.31739627910986,0.988323168803844,1.73054962242106,2.50562978108194,0.494880999733125,0.756875322111951],[0.2970177575127,0.151289230433248,0.34647837052365,0,0,0],[0.193044912034295,1.14117991839873,0,0,0.0967478007059818,0.0639216025738452],[1.78627826892672,1.7993181167102,1.5975398105791,0.0230695735225738,0.443138595036129,1.42091355155696],[0.0423608708300761,0.0332365590723134,0,0,0,0.545795251581206],[2.76745995134643,3.87372990643494,1.91760799908439,0.511052067275238,3.3273032053323,4.55268565548227],[0,0,0,0.506312435220727,0,0.279160588121949],[0.328853956585871,0.269252468564148,0,0,0.605908439695913,0.286081128375009],[1659,1659,1659,1659,1659,1659]],\"container\":\"<table class=\\\"display\\\">\\n  <thead>\\n    <tr>\\n      <th> <\\/th>\\n      <th>cluster_id<\\/th>\\n      <th>sample_id<\\/th>\\n      <th>condition<\\/th>\\n      <th>patient_id<\\/th>\\n      <th>stim_type<\\/th>\\n      <th>merging1<\\/th>\\n      <th>CD45<\\/th>\\n      <th>CD7<\\/th>\\n      <th>CD19<\\/th>\\n      <th>pPLCg2<\\/th>\\n      <th>CD4<\\/th>\\n      <th>IgD<\\/th>\\n      <th>CD20<\\/th>\\n      <th>CD25<\\/th>\\n      <th>pSTAT5<\\/th>\\n      <th>CD123<\\/th>\\n      <th>AKT<\\/th>\\n      <th>pSTAT1<\\/th>\\n      <th>CD27<\\/th>\\n      <th>pP38<\\/th>\\n      <th>CD24<\\/th>\\n      <th>pSTAT3<\\/th>\\n      <th>CD11c<\\/th>\\n      <th>CD14<\\/th>\\n      <th>CD56<\\/th>\\n      <th>IkBa<\\/th>\\n      <th>pCREB<\\/th>\\n      <th>CD16<\\/th>\\n      <th>CD38<\\/th>\\n      <th>CD8<\\/th>\\n      <th>CD45RA<\\/th>\\n      <th>CD3<\\/th>\\n      <th>pERK1_2<\\/th>\\n      <th>HLA_DR<\\/th>\\n      <th>pS6<\\/th>\\n      <th>CD127<\\/th>\\n      <th>ncount<\\/th>\\n    <\\/tr>\\n  <\\/thead>\\n<\\/table>\",\"options\":{\"columnDefs\":[{\"className\":\"dt-right\",\"targets\":[1,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37]},{\"orderable\":false,\"targets\":0}],\"order\":[],\"autoWidth\":false,\"orderClasses\":false}},\"evals\":[],\"jsHooks\":[]}</script>\n```\n:::\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<script src=\"../../site_libs/htmlwidgets-1.5.4/htmlwidgets.js\"></script>\n<link href=\"../../site_libs/datatables-css-0.0.0/datatables-crosstalk.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/datatables-binding-0.25/datatables.js\"></script>\n<script src=\"../../site_libs/jquery-3.6.0/jquery-3.6.0.min.js\"></script>\n<link href=\"../../site_libs/dt-core-1.11.3/css/jquery.dataTables.min.css\" rel=\"stylesheet\" />\n<link href=\"../../site_libs/dt-core-1.11.3/css/jquery.dataTables.extra.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/dt-core-1.11.3/js/jquery.dataTables.min.js\"></script>\n<link href=\"../../site_libs/crosstalk-1.2.0/css/crosstalk.min.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/crosstalk-1.2.0/js/crosstalk.min.js\"></script>\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}